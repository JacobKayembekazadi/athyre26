<section class="account-page section-{{ section.id }}">
  <div class="container">
    <div class="account-page__header">
      <h1 class="account-page__title">{{ 'customer.account.title' | t }}</h1>
      <a href="{{ routes.account_logout_url }}" class="account-page__logout">{{ 'customer.log_out' | t }}</a>
    </div>

    <div class="account-page__grid">
      <div class="account-page__orders">
        <h2 class="account-page__section-title">{{ 'customer.orders.title' | t }}</h2>

        {%- if customer.orders.size > 0 -%}
          <table class="account-page__orders-table">
            <thead>
              <tr>
                <th>{{ 'customer.orders.order_number' | t }}</th>
                <th>{{ 'customer.orders.date' | t }}</th>
                <th>{{ 'customer.orders.payment_status' | t }}</th>
                <th>{{ 'customer.orders.fulfillment_status' | t }}</th>
                <th>{{ 'customer.orders.total' | t }}</th>
              </tr>
            </thead>
            <tbody>
              {%- for order in customer.orders -%}
                <tr>
                  <td><a href="{{ order.customer_url }}">{{ order.name }}</a></td>
                  <td>{{ order.created_at | date: '%B %d, %Y' }}</td>
                  <td>{{ order.financial_status_label }}</td>
                  <td>{{ order.fulfillment_status_label }}</td>
                  <td>{{ order.total_price | money }}</td>
                </tr>
              {%- endfor -%}
            </tbody>
          </table>
        {%- else -%}
          <p class="account-page__no-orders">{{ 'customer.orders.none' | t }}</p>
        {%- endif -%}
      </div>

      <div class="account-page__details">
        <h2 class="account-page__section-title">{{ 'customer.account.details' | t }}</h2>
        <p>{{ customer.name }}</p>
        <p>{{ customer.email }}</p>

        {%- if customer.default_address -%}
          <address>
            {{ customer.default_address | format_address }}
          </address>
        {%- endif -%}

        <a href="{{ routes.account_addresses_url }}" class="account-page__link">{{ 'customer.account.view_addresses' | t }}</a>
      </div>
    </div>
  </div>
</section>

{% style %}
  .section-{{ section.id }} {
    padding: 3rem 0 4rem;
  }

  @media (min-width: 768px) {
    .section-{{ section.id }} {
      padding: 4rem 0 6rem;
    }
  }

  .account-page__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
  }

  .account-page__title {
    font-size: 2rem;
    font-weight: 900;
    letter-spacing: -0.05em;
    margin: 0;
  }

  .account-page__logout {
    font-size: 0.875rem;
    color: #6b7280;
  }

  .account-page__grid {
    display: grid;
    gap: 3rem;
  }

  @media (min-width: 768px) {
    .account-page__grid {
      grid-template-columns: 2fr 1fr;
    }
  }

  .account-page__section-title {
    font-size: 1rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin: 0 0 1.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid #e5e7eb;
  }

  .account-page__orders-table {
    width: 100%;
    font-size: 0.875rem;
    border-collapse: collapse;
  }

  .account-page__orders-table th,
  .account-page__orders-table td {
    padding: 0.75rem;
    text-align: left;
    border-bottom: 1px solid #f3f4f6;
  }

  .account-page__orders-table th {
    font-weight: 600;
    color: #6b7280;
  }

  .account-page__orders-table a {
    color: #000;
    font-weight: 600;
  }

  .account-page__no-orders {
    color: #6b7280;
  }

  .account-page__details p,
  .account-page__details address {
    margin: 0 0 0.5rem;
    font-size: 0.875rem;
  }

  .account-page__link {
    display: inline-block;
    margin-top: 1rem;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: #000;
  }
{% endstyle %}

{% schema %}
{
  "name": "Account",
  "tag": "section",
  "class": "account-section",
  "settings": [],
  "templates": ["customers/account"]
}
{% endschema %}
